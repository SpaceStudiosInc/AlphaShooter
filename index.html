<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Select Your Game</title>
    <style>
        * { margin:0; padding:0; box-sizing:border-box; }
        body {
            margin:0; padding:0; display:flex; justify-content:center; align-items:center;
            min-height:100vh; background:#000; font-family:'Courier New',monospace;
            overflow:hidden; color:#fff; image-rendering:pixelated;
        }
        #menuContainer { text-align:center; width:100%; max-width:800px; padding:20px; }
        h1 { font-size:36px; margin-bottom:40px; text-shadow:3px 3px 0 #fff; color:#000;
             -webkit-text-stroke:1px #fff; paint-order:stroke fill; }
        .game-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
                     gap:25px; margin:30px 0; }
        .game-card { background:#fff; border:4px solid #000; padding:15px; cursor:pointer;
                     transition:transform .2s,box-shadow .2s; position:relative; overflow:hidden; }
        .game-card:hover { transform:translateY(-8px); box-shadow:0 12px 0 #000; }
        .game-card:active { transform:translateY(-4px); }
        .game-title { font-size:20px; font-weight:bold; color:#000; margin-bottom:10px; }
        .game-desc { font-size:14px; color:#333; line-height:1.4; margin-bottom:15px; }
        .preview { width:100%; height:120px; background:#eee; border:2px solid #000;
                   image-rendering:pixelated; margin-bottom:10px; position:relative; overflow:hidden; }
        .preview canvas { width:100%; height:100%; image-rendering:pixelated; image-rendering:crisp-edges; }
        .play-btn { background:#000; color:#fff; border:none; padding:10px 20px;
                    font-family:'Courier New',monospace; font-size:16px; font-weight:bold;
                    cursor:pointer; width:100%; }
        .play-btn:active { background:#333; }
        footer { margin-top:50px; font-size:12px; color:#666; }
        /* Mobile */
        @media (max-width:768px){
            h1{font-size:28px;margin-bottom:30px;}
            .game-grid{gap:15px;}
            .game-card{padding:12px;}
            .game-title{font-size:18px;}
            .game-desc{font-size:13px;}
            .play-btn{padding:8px 16px;font-size:14px;}
        }
        @media (max-width:480px){
            h1{font-size:24px;}
            .preview{height:100px;}
        }
    </style>
</head>
<body>
    <div id="menuContainer">
        <h1>SELECT GAME</h1>
        <div class="game-grid">
            <!-- Game 1 -->
            <div class="game-card" onclick="loadGame('game1.html')">
                <div class="preview" id="preview1"></div>
                <div class="game-title">GAME 1: RUNNER</div>
                <div class="game-desc">Endless run & gun action!</div>
                <button class="play-btn">PLAY</button>
            </div>
            <!-- Game 2 - Black & White -->
            <div class="game-card" onclick="loadGame('game2.html')">
                <div class="preview" id="preview2"></div>
                <div class="game-title">GAME 2: BOMBER</div>
                <div class="game-desc">Drop bombs, destroy terrain!</div>
                <button class="play-btn">PLAY</button>
            </div>
            <!-- Game 3 - New! -->
            <div class="game-card" onclick="loadGame('game3.html')">
                <div class="preview" id="preview3"></div>
                <div class="game-title">GAME 3: OUT OF BULLETS</div>
                <div class="game-desc">Defend Earth from asteroids!</div>
                <button class="play-btn">PLAY</button>
            </div>
        </div>
        <footer>Use arrow keys, space, or touch</footer>
    </div>

    <script>
        // -------------------------------------------------
        // Game 1 – Runner preview
        // -------------------------------------------------
        function drawRunnerPreview(canvas, ctx) {
            let x = 0;
            function animate() {
                ctx.fillStyle = '#fff';
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = '#000';
                ctx.fillRect(0, canvas.height - 10, canvas.width, 2);
                x = (x + 2) % (canvas.width + 20);
                const runnerX = x < canvas.width ? x : x - canvas.width - 20;
                ctx.fillRect(runnerX + 10, canvas.height - 30, 8, 16);
                ctx.fillRect(runnerX + 8, canvas.height - 14, 12, 4);
                requestAnimationFrame(animate);
            }
            animate();
        }

        // -------------------------------------------------
        // Game 2 – BOMBER (Black & White)
        // -------------------------------------------------
        function drawBomberPreview(canvas, ctx) {
            const w = canvas.width, h = canvas.height;
            let planeX = 30, planeY = 30;
            let planeDir = 1;
            const bombs = [];
            let lastDrop = 0;

            function animate() {
                ctx.fillStyle = '#fff';
                ctx.fillRect(0, 0, w, h);

                // Ground
                ctx.fillStyle = '#000';
                ctx.fillRect(0, h - 20, w, 20);

                // Plane
                planeX += planeDir * 1.5;
                if (planeX > w - 40) planeDir = -1;
                if (planeX < 10) planeDir = 1;

                ctx.fillStyle = '#000';
                ctx.fillRect(planeX, planeY, 30, 12);
                ctx.fillRect(planeX + 5, planeY - 4, 20, 6);
                ctx.fillRect(planeX + 5, planeY + 12, 20, 6);
                ctx.fillRect(planeX + 22, planeY + 2, 6, 6);

                // Drop bomb
                if (performance.now() - lastDrop > 800) {
                    bombs.push({x: planeX + 15, y: planeY + 12, exploding: false, frame: 0});
                    lastDrop = performance.now();
                }

                // Bombs & explosions
                for (let i = bombs.length - 1; i >= 0; i--) {
                    const b = bombs[i];
                    if (!b.exploding) {
                        b.y += 3;
                        ctx.fillStyle = '#000';
                        ctx.fillRect(b.x - 3, b.y - 3, 6, 6);
                        if (b.y + 3 >= h - 20) {
                            b.exploding = true;
                            b.frame = 0;
                            ctx.fillStyle = '#000';
                            ctx.fillRect(b.x - 12, h - 22, 24, 4);
                        }
                    } else {
                        b.frame++;
                        const radius = b.frame * 1.2;
                        const alpha = 1 - b.frame / 30;
                        ctx.fillStyle = `rgba(0,0,0,${alpha})`;
                        ctx.beginPath();
                        ctx.arc(b.x, h - 20, radius, 0, Math.PI * 2);
                        ctx.fill();
                        if (b.frame > 30) bombs.splice(i, 1);
                    }
                }
                requestAnimationFrame(animate);
            }
            animate();
        }

        // -------------------------------------------------
        // Game 3 – SPACE DEFENDER (New!)
        // -------------------------------------------------
        function drawSpaceDefenderPreview(canvas, ctx) {
            const w = canvas.width, h = canvas.height;
            let shipX = w / 2 - 10;
            const lasers = [];
            const asteroids = [];
            let lastShot = 0;
            let score = 0;

            // Spawn asteroids
            function spawnAsteroid() {
                asteroids.push({
                    x: Math.random() * (w - 20) + 10,
                    y: -20,
                    size: Math.random() * 10 + 10,
                    speed: Math.random() * 1.5 + 1
                });
            }

            // Initial asteroids
            for (let i = 0; i < 3; i++) spawnAsteroid();
            setInterval(spawnAsteroid, 2000);

            function animate() {
                // Clear
                ctx.fillStyle = '#000';
                ctx.fillRect(0, 0, w, h);

                // Stars
                ctx.fillStyle = '#fff';
                for (let i = 0; i < 30; i++) {
                    const x = (i * 37 + Date.now() * 0.01) % w;
                    const y = (i * 23 + Date.now() * 0.02) % h;
                    ctx.fillRect(x, y, 1, 1);
                }

                // Ship
                ctx.fillStyle = '#0f0';
                ctx.fillRect(shipX, h - 30, 20, 15);
                ctx.fillRect(shipX + 8, h - 35, 4, 10);

                // Auto-shoot
                if (performance.now() - lastShot > 400) {
                    lasers.push({ x: shipX + 9, y: h - 35 });
                    lastShot = performance.now();
                }

                // Lasers
                for (let i = lasers.length - 1; i >= 0; i--) {
                    const l = lasers[i];
                    l.y -= 5;
                    ctx.fillStyle = '#ff0';
                    ctx.fillRect(l.x, l.y, 2, 8);
                    if (l.y < 0) lasers.splice(i, 1);
                }

                // Asteroids
                for (let i = asteroids.length - 1; i >= 0; i--) {
                    const a = asteroids[i];
                    a.y += a.speed;
                    ctx.fillStyle = '#aaa';
                    ctx.beginPath();
                    ctx.arc(a.x, a.y, a.size, 0, Math.PI * 2);
                    ctx.fill();

                    // Collision with laser
                    for (let j = lasers.length - 1; j >= 0; j--) {
                        const l = lasers[j];
                        const dx = l.x - a.x;
                        const dy = l.y - a.y;
                        if (Math.sqrt(dx*dx + dy*dy) < a.size) {
                            asteroids.splice(i, 1);
                            lasers.splice(j, 1);
                            score++;
                            // Explosion
                            for (let k = 0; k < 8; k++) {
                                setTimeout(() => {
                                    ctx.fillStyle = `rgba(255,100,0,${0.8 - k*0.1})`;
                                    ctx.fillRect(a.x - 5, a.y - 5, 10, 10);
                                }, k * 30);
                            }
                            break;
                        }
                    }

                    if (a.y > h) asteroids.splice(i, 1);
                }

                requestAnimationFrame(animate);
            }
            animate();
        }

        // -------------------------------------------------
        // Init all previews
        // -------------------------------------------------
        window.onload = () => {
            // Game 1
            const preview1 = document.getElementById('preview1');
            const canvas1 = document.createElement('canvas');
            canvas1.width = 280; canvas1.height = 120;
            preview1.appendChild(canvas1);
            const ctx1 = canvas1.getContext('2d');
            ctx1.imageSmoothingEnabled = false;
            drawRunnerPreview(canvas1, ctx1);

            // Game 2 (B&W)
            const preview2 = document.getElementById('preview2');
            const canvas2 = document.createElement('canvas');
            canvas2.width = 280; canvas2.height = 120;
            preview2.appendChild(canvas2);
            const ctx2 = canvas2.getContext('2d');
            ctx2.imageSmoothingEnabled = false;
            drawBomberPreview(canvas2, ctx2);

            // Game 3 (New)
            const preview3 = document.getElementById('preview3');
            const canvas3 = document.createElement('canvas');
            canvas3.width = 280; canvas3.height = 120;
            preview3.appendChild(canvas3);
            const ctx3 = canvas3.getContext('2d');
            ctx3.imageSmoothingEnabled = false;
            drawSpaceDefenderPreview(canvas3, ctx3);
        };

        // -------------------------------------------------
        // Load selected game
        // -------------------------------------------------
        function loadGame(url) {
            window.location.href = url;
        }

        // Prevent zoom on iOS
        document.addEventListener('gesturestart', e => e.preventDefault());
    </script>
</body>
</html>
